% -*- root: ../GeometriaDiferencial.tex -*-
\chapter{Variedades diferenciables}
\label{chap:Variedades}

Ahora que hemos conseguido un lenguaje para hablar de funciones y cambios infinitesimales, necesitaremos un soporte para esos cambios. Necesitamos una forma de definir curvas, superficies, volúmenes y demás objetos en los que podamos derivar e integrar. Estos objetos son las variedades diferenciables.

\section{Definición}

\begin{defn}[Variedad\IS diferenciable] Se dice que $X$ es una variedad diferenciable si
\begin{enumerate}
\item $X$ es un espacio topológico con topología conexa y Hausdorff\footnote{Ver magníficos apuntes de Topología I.}.
\item $U_i ⊂ X$ es una familia numerable de abiertos con aplicaciones $\appl{Φ_i}{U_i}{ℝ^n}$, homomorfismos sobre sus imágenes. El par $(U_i, Φ_i)$ es una \concept[Carta\IS coordenada]{carta coordenada}.
\item Para todo par de de cartas coordenadas $U_i, U_j$ de la estructura diferencial\footnote{Una variedad queda unívocamente definida por un atlas maximal. Un atlas maximal es un atlas que contiene a todos los atlas que son compatibles con él. Dos atlas son compatibles si son equivalentes \fref{def:AtlasEquiv} \cite{diaz03}.} y sus correspondientes homomorfismos $Φ_i, Φ_j$, la función $ \inv{Φ_i} ○ Φ_j $ es difeomorfismo en el entorno en el que está definida (en $U_i ∩ U_j$).
\end{enumerate}

Si sólo cumple las dos primeras propiedades, $X$ sería sólo una \concept[Variedad\IS topológica]{variedad\IS topológica}.\label{def:VariedadDiferenciable}
\end{defn}

Vamos a ver varios comentarios desordenados sobre este tema. En muchos casos pediremos más condiciones a $X$, como por ejemplo que sea compacta para tener un \concept[Atlas]{atlas} (el conjunto de todas las cartas) finito.

Otro comentario es que no perdemos nada por pedir conexión, ya que si tenemos varias componentes conexas tendremos distintas variedades.

Localmente, todas las variedades son conexas y compactas, al tener una carta para cada punto. La conexión es sencilla, la compacidad sólo hay que ver que si se coge una bola cerrada en la variedad, el homomorfismo $Φ_i$ la llevará a una bola cerrada en $ℝ^n$, que es compacta y por lo tanto la bola es compacta también en la variedad.

Otra cosa a recordar es que una función continua e inyectiva de un espacio topológico compacto a un espacio Hausdorff es necesariamente un homomorfismo con su imagen.

Una función inyectiva y diferenciable no tiene por qué ser un difeomorfismo: por ejemplo, $f(x) = x^3$ es biyectiva y diferenciable pero no es difeomorfismo porque en $0$ la derivada se anula. Es decir, falla porque no se puede aplicar el teorema de la función inversa (\fref{thm:FuncionInversa}).

Viendo la definición de las variedades, localmente no son interesantes porque son equivalentes (homeomorfas) a abiertos de $ℝ^n$. Lo interesante es ver las propiedades globales. Cómo unas cartas se pegan con otras es lo que da lugar a la geometría global de la diferencial.

Por supuesto, también hay aspectos locales, como por ejemplo la curvatura. Pero aun así, topológicamente localmente es igual a $ℝ^n$.

\subsection{Equivalencia entre atlas}

\begin{defn}[Atlas\IS equivalente]\label{def:AtlasEquiv} Dos atlas son equivalentes si su unión es un atlas, es decir, si todas las cartas de uno son compatibles con todas las cartas del otro.
\end{defn}

Tomemos dos atlas, uno que nos lleva de $ℝ_1 \overset{Id}{\longmapsto} ℝ$ y otro $ℝ_2 \overset{x^3}{\longmapsto} ℝ$. La cuestión es es que estos dos atlas no son equivalentes ($x^3$ no es un difeomorfismo), a pesar de que las variedades $ℝ_1, ℝ_2$ sí son difeomorfas con el difeomorfismo $x^3$, tendríamos \[ ℝ \overset{\sqrt[3]{x}}{\longmapsto} ℝ_2 \overset{x^3}{\longmapsto} ℝ_1 \overset{Id}{\longmapsto} ℝ \]



\section{Ejemplos de variedades diferenciables}

Un ejemplo muy sencillo es un abierto $X$ en $ℝ^n$ o todo $ℝ^n$, donde las cartas son la identidad.

Si $X,Y$ son variedades, su producto cartesiano $X × Y$ es variedad también. Las cartas serán los producto $U_i×U_j$ con los homomorfismos $Φ_i × Ψ_j$, y es fácil ver que las cartas producto cumplen las propiedades.

Un ejemplo típico de una variedad producto es $\crc × ℝ$, el cilindro; o $\crc × \crc$, el toro.

Las esferas $\bbs^n$ están en $ℝ^{n+1}$, dadas por la ecuación $x_0^2 + \dotsb + x_n^2 = 1$. La forma más fácil de producir las cartas para la esfera es coger casquetes más grandes que semiesferas, y sólo habría que comprobar que ese solapamiento en un entorno del ecuador no da problemas.

El ejemplo más interesante de todos estos es, sin embargo, el espacio proyectivo. Por definición, es el conjunto de rectas que contienen al origen. Más formalmente:

\begin{defn}[Plano\IS proyectivo] Se define el plano proyectivo como \[ \projp^2 ≝ \quot{ℝ^3 \setminus \set{0}}{\sim} \] donde $\sim$ es una relación de equivalencia definida de la siguiente forma: dados $e, e' ∈ ℝ^3$, están relacionados $e \sim e'$ si y sólo si $∃λ ≠ 0$ tal que $λe = e'$.\label{def:PlanoProj}\end{defn}

Primero hay que dotar de una topología a este espacio. Para ello vamos a definir unos conjuntos:

\[U_i = \{(x_1,x_2,x_3) : x_i ≠ 0\}\]

Esta construcción permite decir que $\projp^2(ℝ) = \displaystyle\bigcup_{i=1}^3 U_i$. En cada conjunto se puede construir el homomorfismo $\appl{Φ_i}{U_i}{ℝ^2}$ llevando $[x_0, x_1, x_2]$ a $\left[\frac{x_0}{x_i},\frac{x_1}{x_i},\frac{x_2}{x_i}\right]$. Dado que una de las coordenadas va a ser $1$ siempre, podemos quitarla y entonces será equivalente a $ℝ^2$.

Definimos la \concept[Topología\IS del plano proyectivo]{Topología del plano proyectivo} como:

\[ A⊂U_i, A∈\topl \dimplies Φ_i(A) ∈\topl_{ℝ^n}\]

es decir, un subconjunto de $U_i$ es abierto si y sólo si su imagen por $Φ_i$ es un abierto en $ℝ^n$ con la topología habitual. No es de este curso comprobar que esto realmente define una topología ni que esta topología sea la topología con más abiertos tal que la aplicación $\appl{π}{\real^3 \setminus \set{0}}{\projp^2}$ es continua\footnote{$π$ es la combinación apropiada de $Φ_i$ para que sea continua. Es como la proyección en el plano proyectivo utilizado todas las $Φ_i$}.

Esta topología es conexa y Hausdorff, y también compacta.

Al tener una topología conexa y Hausdorff, el plano proyectivo es una variedad topológica. Tendríamos que comprobar la tercera propiedad de variedad diferenciable. Para ello vemos que el plano proyectivo tratado como variedad tiene tres cartas, dadas por $(U_i,Φ_i)$. Entonces hay que ver el cambio de carta, por ejemplo de $U_0$ a $U_1$. Y funciona bien, sólo hay que resolver algunas ecuaciones.

\paragraph{¿Qué ocurre con $\projp(ℝ^3)$?} Podemos ver que es posible definir planos proyectivos de $n$ dimensiones por \[ \projp^n ≝ \quot{ℝ^{n+1}\setminus\set{0}}{\sim}\] con $\sim$ la misma relación de equivalencia de antes. La topología y las cartas se construyen de la misma manera.

¿Por qué es interesante el plano proyectivo? Porque las rectas en $L ⊂ \projp^2$ son planos vectoriales en $ℝ^3$. Como los planos vectoriales en $ℝ^3$ siempre se cortan (contienen al menos al origen) en una recta, entonces dos rectas en $\projp^2$ siempre se van a cortar en un punto, luego no hay rectas paralelas.

Es decir, que en la geometría proyectiva nos quitamos varias excepciones feas de rectas paralelas. En momentos más avanzados, cuando se cambian los reales por el cuerpo complejo, se pasa a ver que cualquier par de curvas siempre se cortan (o algo parecido).

También es importante ver que, al ser compacto, permite llegar a cosas finitas que en el euclídeo se quedan infinitas.

\paragraph{Construcción en la \textit{realidad} del plano proyectivo}
Algo interesante del plano proyectivo es que es equivalente a tapar una banda de Möbius con un disco. Vamos a ver por qué.

El plano proyectivo se obtiene identificando planos antipodales de la esfera, luego nos sobra un hemisferio. Topológicamente, un hemisferio es como un rectángulo, en el que identificamos los lados antipodalmente (\fref{fig:PlanoProyectivoRectangulo}).

\begin{figure}[hbtp]
\centering
\inputtikz{II_PlanoProyectivoRectangulo}
\caption{Identificamos los lados antipodalmente, con líneas que pasan por el centro.}
\label{fig:PlanoProyectivoRectangulo}
\end{figure}


En esa misma representación, la banda de Möebius sería un rectángulo en el que identificamos los lados cortos. La banda es lo mismo que recortar el plano proyectivo por los lados largos.

Como el plano proyectivo contiene la banda de Möebius, resulta que tampoco es orientable.

\section{Morfismos entre variedades}

Después de ver qué es una variedad diferenciable, es interesante ver cuáles son las funciones ``diferenciables'' entre ellas y que conservan sus propiedades. Es decir, si tenemos $X,Y$ variedades diferenciables, ¿qué podemos decir de $\appl{F}{X}{Y}$?

\begin{defn}[Función\IS diferenciable] Sea $\appl{F}{X_n}{Y_m}$\footnote{Usamos la notación $X_n$ para indicar que $X$ tiene dimensión $n$.} una aplicación entre variedades diferenciables, decimos que es una \textbf{función diferenciable} si para toda carta $(U_i, Φ_i)$  en $X$ y para toda carta $(V_j, Ψ_j)$ en $Y$, la composición $Ψ_j ○ F ○ \inv{Φ_i}$ es diferenciable ($C^∞$) entre abiertos de $ℝ^n$ y $ℝ^m$ en todo punto donde está definida.

Esto es lo mismo que decir que $F$ es compatible con las cartas.\label{def:FuncionDiferenciableVariedades}
\end{defn}

\newpage
\begin{defn}[Difeomorfismo] Un difeomorfismo entre variedades es una función diferenciable, biyectiva y con inversa diferenciable.
\end{defn}

En particular, si $F$ es difeomorfismo la dimensión de las dos variedades tiene que ser la misma.

Dos variedades difeomorfas son esencialmente la misma, a todos los efectos. La única diferencia será el nombre de la variedad y el nombre de los puntos. Así, en el fondo, lo que querremos es tener criterios para clasificar las variedades por difeomorfismos, y ver cuándo dos variedades no pueden ser la misma.

Por ejemplo, una de las formas de ver que dos variedades son diferentes es ver que la cohomología de De Rham (ver \fref{def:CohomologiaDeRham}) es distinta. De la misma forma, todas las invariantes que definamos (curvatura, por ejemplo) también pueden ayudarnos a distinguir entre variedades, o incluso entre distintas estructuras diferenciables (exóticas) del mismo espacio (ver \fref{sec:MismoEspacioNoDifeomorfo} para ampliar, y el \fref{ej:Variedades-15} para un ejemplo de estructuras diferenciales distintas en la recta real).

% Los atlas equivalentes están definidos más arriba, para dar algo más de coherencia, ya que su posición en el orden de la clase es aquí.

\section{Subvariedades}

Hasta aquí hemos considerado variedades por sí mismas. La cuestión es que muchas veces nos las vamos a encontrar relacionadas con otras variedades, ya sea incluidas unas dentro de otras o proyectadas.

Para poder hablar con propiedad, vamos a definir las funciones que nos van a mover entre variedades.

\begin{defn}[Submersión] Dadas $M,N$ variedades diferenciables y $\appl{f}{M}{N}$ una aplicación diferenciable entre ambas, se dice que $f$ es una submersión en un punto $p ∈ M$ si y sólo la diferencial \[ \appl{f_{*,p} \equiv (\Dif f)_p}{\tgs_p M}{\tgs_{f(p)}N} \] es una aplicación lineal \textbf{sobreyectiva}. A $p$ se le llama \concept{Punto\IS regular}. Si no, se le llamará \textbf{Punto crítico}\index{Punto!crítico}.

Si $f$ es una submersión para todo $p∈M$, se le llama simplemente ``submersión''.
\end{defn}

\begin{defn}[Inmersión]\label{def:Inmersion} Sean $M$ y $N$ variedades diferenciables. Se dice que una función diferenciable $\appl{F}{M}{N}$ (normalmente denotada con el gancho $\inmr{F}{M}{N}$)es una \textbf{inmersión} en $p$ si la diferencial $\appl{F_{*p}}{\tgs_pM}{\tgs_{F(p)}N}$ entre los espacios tangentes es inyectiva.

Esto es lo mismo que pedir que la matriz de derivadas parciales $\Dif F$ tenga rango máximo en todo punto. Si $F$ es una inmersión para todo punto $p\in M$ decimos que es una \textbf{inmersión}.

Si los abiertos en la variedad $M$ son exactamente antiimágenes por $F$ de los abiertos en $N$, decimos que la inmersión es \concept[Inmersión\IS compatible con la topología]{compatible con la topología} (en inglés, es un \textit{embedding})\index{Embedding}.
\end{defn}

La inmersión y la submersión son conceptos duales. La inmersión es la inclusión, algo como una aplicación $ℝ^m \longmapsto ℝ^{m+p}$, mientras que la submersión sería como la proyección $ℝ^{m+p} \longmapsto ℝ^m$. Las restricciones sobre la diferencial nos permiten usar los teoremas de la función inversa e implícita (\fref{thm:FuncionInversa} y \fref{thm:FuncionImplicita}).

Con estas dos herramientas ya sí se puede definir qué es una subvariedad.

\begin{defn}[Subvariedad] Un subconjunto $M \subset N$ de una variedad diferenciable $N$ es una subvariedad si $M$ admite una estructura de variedad diferenciable tal que la función $\inmr{i}{M}{N}$ es una inmersión. si además la inmersión es compatible con la topología decimos que la subvariedad es \concept[Subvariedad\IS regular]{regular}.
\end{defn}

Con dos teoremas\footnote{A los que no les veo mucha utilidad, la verdad.} y algún ejemplo pasamos a la siguiente sección

\begin{theorem}[Teorema\IS de Submersión] \label{thm:Submersion}
Si $q \in N$ es un valor regular de $\appl{G}{M}{N}$, con $M$ de dimensión $m$ y $N$ de dimensión $n$, entonces $M_q=G^{-1}(q)$ es una subvariedad regular de dimensión $m-n$ de $M$. El espacio tangente a $M_q$ en uno de sus puntos $p$ es el núcleo de la diferencial $G_{*p}$
\end{theorem}

\begin{theorem}[Teorema\IS de Inmersión]\label{thm:Inmersion}
Si $\appl{F}{M}{N}$, con $M$ de dimensión $m$ y $N$ de dimensión $n$, es una inmersión en un punto $p \in M$, existen entornos $U$ y $V$ de $p$ y $F(p)$ respectivamente tales que
\begin{enumerate}
\item La aplicación $F$ restringida a $U$ es inyectiva con imagen contenida en $V$.
\item Existe un sistema de coordenadas $(x_1,\dots,x_n)$ en $V$ tal que $F(U)$ es el conjunto de puntos en $V$ verificando el sistema de ecuaciones $x_{m+1}=...=x_n=0$. La restricción de las primeras $m$ funciones coordenadas determinan una carta local en $F(U)$.
\end{enumerate}

Además, si $M$ es una variedad compacta y $F$ es inyectiva e inmersión, entonces la imagen $F(M)\subset N$ es una subvariedad regular
\end{theorem}
\begin{proof}
\begin{enumerate}
\item Al ser el rango de $F$ máximo en $p$ será constante en un entorno de $p$ y podemos aplicar el teorema del rango constante. Los entornos $U$ y $V$ son los datos por este teorema, y las primeras dos afirmaciones son consecuencias directas del mismo

\item Una función $F$ inyectiva y continua sobre un conjunto compacto es un homeomorfismo con su imagen, con la topología inducida por $N$ sobre la imagen. Esto, junto con los apartados anteriores, implica que la imagen, con la estructura de variedad diferenciable dada por las cartas definidas en los abiertos de la forma $F(U)$ por las primeras $m$ coordenadas $(x_1,\dots,x_m)$ definidas en el abierto $V$, es una subvariedad regular de $N$.
\end{enumerate}
\end{proof}

\begin{example}

\begin{figure}[hbtp]
\centering
\inputtikz{III_BucleCero}
\caption{La función no llega al cero.}
\label{fig:BucleCero}
\end{figure}

Un ejemplo de función que no es compatible con la topología es el looping que cruza una vez por el cero y luego no llega (\fref{fig:BucleCero}).
\end{example}

\begin{example}

\begin{figure}[hbtp]
\centering
\inputtikz{III_Pez}
\caption{Un pez. Glugluglu.}
\label{fig:Pez}
\end{figure}

Cuidado porque cuando hablamos de inmersiones lo que tiene que ser inyectivo es la diferencial, no la función. Por ejemplo, si consideramos la curva de ecuación $y^2 - x^2 + x^3 = 0$ (\fref{fig:Pez}) parametrizada por \[ F(λ) = (1-λ^2, λ(1-λ^2)) \], su diferencial es inyectiva $∀λ$, a pesar de que la función en sí no es inyectiva (el $(0,0)$, el punto naranja se cruza dos veces).
\end{example}

